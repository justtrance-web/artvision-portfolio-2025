# Claude Memory Rules Backup
# Дата: 2025-12-19
# Версия: 25 правил

## Правило 1: SEO-навыки
SEO-навыки активируются автоматически по контексту: семантика, кластеризация, интент, ТЗ, аудит, конкуренты → читать соответствующий /mnt/skills/user/seo-*

## Правило 2: HTML-отчёты/КП
HTML-отчёты/КП: спрашивать у пользователя про тему/стиль дизайна перед созданием. Без CTA в тарифах, одна кнопка связи внизу.

## Правило 3: HTML адаптивность
HTML всегда адаптивный: viewport, grid auto-fit, flex-wrap, media query (480/768/1200px), clamp() шрифты. Проверять на 320-1440px.

## Правило 4: Контакты для КП
Контакты для КП: см. /mnt/skills/user/company-contacts.md

## Правило 5: Источники данных
В отчётах после каждого блока данных/таблиц указывать: дату сбора + прямую ссылку на источник данных

## Правило 6: CSS анимации
CSS анимации: НЕ использовать opacity:0 + JS IntersectionObserver — блоки не видны без JS. Делать чистый CSS @keyframes с animation: ... both

## Правило 7: Standalone HTML
При запросе "standalone HTML" — использовать Python для base64 (sed ломается на длинных строках)

## Правило 8: Фото в контент
При запросе "фото в контент/бэкграунд" — использовать загруженные изображения напрямую, не абстрактные интерпретации

## Правило 9: Проект Starter (Пылко)
Проект Starter — доставка через Telegram без установки приложений. Клиент "Пылко" СПб. Боты: клиент + поставщик + курьеры. УТП: всё в Telegram.

## Правило 10: Веб-поиск дата
При веб-поиске в чате всегда указывать дату парсинга в конце ответа.

## Правило 11: Luxury medical триггер
Триггер "luxury medical" / "стиль атрибьют" → искать в past_chats "design system dental luxury" для дизайн-системы мед-лендингов.

## Правило 12: Год в запросах
При веб-поиске и парсинге данных: всегда использовать 2025 год, не 2024. Запросы формировать с "2025" или без года вообще.

## Правило 13: SEO КП генератор
SEO КП: сначала запускать seo_kp_generator.py (из uploads/outputs) для реальных данных. Не выдумывать robots/meta — только парсить.

## Правило 14: После создания HTML
После создания HTML (лендинги, КП): 1) check_responsive.py для адаптивности 2) blockchain-copyright/auto_protect.py для защиты авторства (SHA-256 + Bitcoin timestamp)

## Правило 15: Проверка email
После парсинга/скрейпинга контактов компаний автоматически запускать python /mnt/user-data/outputs/email_checker.py для проверки email (ROT13, MX, тип)

## Правило 16: Экономия токенов
Экономия токенов: большие HTML → делить на чаты; правки → копить в 1 сообщение; рутина → предлагать Sonnet

## Правило 17: Asana интеграция
Задачи: всё через Asana "Задачи - Artvision" (1212305892582815). Создать/найти/обновить/закрыть задачу → сразу Asana без вопросов. "продолжи задачу" → искать в Asana.

## Правило 18: Скриншоты сайтов
Скриншоты сайтов: Playwright/Puppeteer напрямую НЕ работают (прокси блокирует). Метод: curl HTML+CSS+img → Python собирает standalone.html с base64 → Playwright file:///

## Правило 19: Аудит вёрстки
Аудит вёрстки: HTML лучше PDF (интерактивные кнопки, скриншоты с прокруткой). Шаблон: /mnt/user-data/outputs/skills/audit-verstka/templates/

## Правило 20: Скрипты скриншотов
Скрипты скриншотов: /mnt/user-data/outputs/skills/website-screenshot/scripts/ — build_standalone.py, make_screenshots.js, full_screenshot.sh

## Правило 21: SSL сертификаты
Техзадачи → читать GitHub Skills. SSL: не платить хостингам, использовать Cloudflare или certbot (Bitrix VM: yum, webroot=/home/bitrix/www). Навык: /mnt/user-data/outputs/skills/ssl-letsencrypt/

## Правило 22: Asana datetime
Asana datetime: использовать /mnt/user-data/outputs/asana_helpers.py для автоматического форматирования due_at/start_at в RFC 3339 (+03:00). Всегда применять formatter перед вызовом API.

## Правило 23: URL/ссылки
URL/ссылки: НИКОГДА не генерировать из памяти. Только через web_search → web_fetch → проверка 200. Если URL нужен — сначала искать, потом давать. Нет tool call = нет ссылки.

## Правило 24: Большие данные
Большие данные (10+ кластеров/ТЗ/списков): обрабатывать порциями по 3-5 штук. После каждой порции — пауза и подтверждение. Перед финальным ответом — перечитать исходные данные и сверить.

## Правило 25: AI-агенты
AI-агенты Artvision: VPS + Claude API + Asana webhooks. Примеры: автоаудит по тегу, библиотека дизайна (cron), мониторинг позиций. Агенты = скиллы + промпты + условия + пост-обработка

---

# Восстановление правил

Чтобы восстановить правила, используй команду memory_user_edits:

```
command: "add"
control: "текст правила"
```

Или для замены:
```
command: "replace"
line_number: N
replacement: "новый текст"
```
